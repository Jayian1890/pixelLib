---
# clang-format configuration for pixelLib C++23 project
# Optimized for clang-format-2025 VS Code extension
# Based on LLVM style with modern C++23 adjustments

Language: Cpp
Standard: c++23

# Basic formatting style
BasedOnStyle: LLVM

# Column limits
ColumnLimit: 100
IndentWidth: 2
TabWidth: 2
UseTab: Never

# Brace placement and formatting
BreakBeforeBraces: Allman
AllowShortFunctionsOnASingleLine: Empty
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: Never
AllowShortBlocksOnASingleLine: Empty
AllowShortLambdasOnASingleLine: Empty
AllowShortCaseLabelsOnASingleLine: false

# Line breaking and wrapping
BinPackArguments: false
BinPackParameters: false
AllowAllArgumentsOnNextLine: true
AllowAllParametersOnNextLine: true
AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: true
AlwaysBreakTemplateDeclarations: Yes
BreakBeforeBinaryOperators: NonAssignment
BreakBeforeTernaryOperators: true
BreakConstructorInitializers: BeforeColon
BreakInheritanceList: BeforeColon
BreakStringLiterals: true

# Pointer and reference formatting
PointerAlignment: Left
ReferenceAlignment: Left
SpaceBeforeParens: ControlStatements
SpaceInEmptyParentheses: false
SpacesBeforeTrailingComments: 2
SpacesInAngles: false
SpacesInCStyleCastParentheses: false
SpacesInContainerLiterals: true
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Alignment
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignConsecutiveMacros: false
AlignEscapedNewlines: Left
AlignOperands: true
AlignTrailingComments: true

# Empty lines and whitespace
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1
NamespaceIndentation: None
PPIndentWidth: -1
ReflowComments: true
SortIncludes: true
SortUsingDeclarations: true

# C++ specific formatting
AllowShortEnumsOnASingleLine: false
AllowShortNamespacesOnASingleLine: false
AlwaysBreakAfterDefinitionReturnType: None
AlwaysBreakTemplateDeclarations: Yes
CompactNamespaces: false
ConstructorInitializerAllOnOneLineOrOnePerLine: false
ConstructorInitializerIndentWidth: 4
Cpp11BracedListStyle: true
DerivePointerAlignment: false
FixNamespaceComments: true
IncludeBlocks: Preserve
IndentCaseLabels: true
IndentExternBlock: NoIndent
IndentPPDirectives: BeforeHash
IndentRequires: false
IndentWrappedFunctionNames: false
NamespaceComments: true
PackConstructorInitializers: NextLine
SeparateDefinitionBlocks: Always

# Modern C++23 specific
RequiresClausePosition: OwnLine

# Language-specific options
ForEachMacros:
  - foreach
  - Q_FOREACH
  - BOOST_FOREACH
StatementAttributeLikeMacros:
  - Q_EMIT
  - Q_SLOT
  - Q_SLOTS
  - Q_SIGNAL
  - Q_SIGNALS
  - Q_INVOKABLE
  - Q_OBJECT
  - Q_GADGET
  - Q_NAMESPACE
  - Q_PLUGIN_METADATA
  - Q_ENUM
  - Q_ENUM_NS
  - Q_FLAG
  - Q_FLAG_NS
  - Q_CLASSINFO
  - Q_PROPERTY
  - Q_PRIVATE_PROPERTY
  - Q_INTERFACES
  - Q_DECLARE_FLAGS
  - Q_DECLARE_INTERFACE
  - Q_DECLARE_METATYPE
  - Q_DECLARE_PRIVATE
  - Q_DECLARE_PUBLIC
  - Q_DECLARE_SHARED_PTR
  - Q_DECLARE_TYPEINFO
  - Q_DECLARE_OPERATORS_FOR_FLAGS
  - Q_DECLARE_SHARED_PTR_MULTIPLE
  - Q_DECLARE_QMETATYPE_ID
  - QT_REQUIRE_CONFIG
  - QT_REQUIRE_CONFIG

# clang-format-2025 extension optimizations
# These settings work best with the advanced features of the extension

# Enhanced comment formatting
CommentPragmas: '^ IWYU pragma:'
# Better handling of long lines
BreakBeforeConceptDeclarations: true
# Modern template formatting
AlwaysBreakBeforeMultilineStrings: true
# Better namespace handling
CompactNamespaces: false
NamespaceIndentation: None
# Enhanced include sorting
IncludeCategories:
  - Regex: '^<.*\.h>'
    Priority: 1
    SortPriority: 0
    CaseSensitive: false
  - Regex: '^<.*'
    Priority: 2
    SortPriority: 0
    CaseSensitive: false
  - Regex: '.*'
    Priority: 3
    SortPriority: 0
    CaseSensitive: false

# Advanced whitespace handling
SpaceBeforeAssignmentOperators: true
SpaceBeforeCtorInitializerColon: true
SpaceBeforeInheritanceColon: true
SpaceBeforeRangeBasedForLoopColon: true

# Enhanced line breaking for modern C++
AllowAllConstructorInitializersOnNextLine: true
AllowAllParametersOfDeclarationOnNextLine: true

# Better template handling
TemplateParameterIndentation: 2
AlwaysBreakTemplateDeclarations: Yes

# Enhanced lambda formatting
LambdaBodyIndentation: 2
ShortLambdaLines: 2

# Modern C++20/23 concepts
BreakBeforeConceptDeclarations: true
RequiresClausePosition: OwnLine

# clang-format-2025 specific optimizations
# These settings provide the best experience with the extension's features
WhitespaceSensitiveMacros:
  - STRINGIZE
  - PP_STRINGIZE
  - BOOST_PP_STRINGIZE
  - BOOST_PP_TUPLE_ENUM
  - BOOST_PP_STRINGIZE
  - QT_TRANSLATE_NOOP
  - QT_TRANSLATE_NOOP3
  - QT_TRANSLATE_NOOP4
  - QT_TRANSLATE_NOOP_UTF8
  - QT_TRANSLATE_NOOP3_UTF8
  - QT_TRANSLATE_NOOP4_UTF8
  - QT_TR_NOOP
  - QT_TR_NOOP_UTF8
  - QT_TR_N_NOOP
  - QT_TR_N_NOOP3
  - QT_TR_N_NOOP4
  - QT_TR_N_NOOP_UTF8
  - QT_TR_N_NOOP3_UTF8
  - QT_TR_N_NOOP4_UTF8
  - QT_TRANSLATE_N_NOOP
  - QT_TRANSLATE_N_NOOP3
  - QT_TRANSLATE_N_NOOP4
  - QT_TRANSLATE_N_NOOP_UTF8
  - QT_TRANSLATE_N_NOOP3_UTF8
  - QT_TRANSLATE_N_NOOP4_UTF8
  - QT_TRANSLATE_N_NOOP3_UTF8
  - QT_TRANSLATE_N_NOOP4_UTF8

# Enhanced error handling
BreakBeforeBraces: Allman
BraceWrapping:
  AfterCaseLabel: false
  AfterClass: false
  AfterControlStatement: false
  AfterEnum: false
  AfterFunction: false
  AfterNamespace: false
  AfterStruct: false
  AfterUnion: false
  AfterExternBlock: false
  BeforeCatch: true
  BeforeElse: true
  BeforeLambdaBody: false
  BeforeWhile: false
  IndentBraces: false
  SplitEmptyFunction: false
  SplitEmptyRecord: false
  SplitEmptyNamespace: false
