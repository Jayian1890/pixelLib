# yaml-language-server: $schema=https://json.schemastore.org/clangd.json
CompileFlags:
  CompilationDatabase: build/
  Add:
    - "-std=c++23"
    - "-I./include"
    - "-I./tests"
    - "-I./third-party"
Diagnostics:
  MissingIncludes: Strict
  UnusedIncludes: Strict
  ClangTidy:
    Add:
      - "modernize-*"
      - "performance-*"
      - "readability-*"
      - "bugprone-*"
      - "concurrency-*"
      - "cert-*"
      - "cppcoreguidelines-*"
      - "hicpp-*"
      - "misc-*"
      - "portability-*"
      - "google-*"
      - "llvm-*"
    Remove:
      - "modernize-use-trailing-return-type"
      - "readability-magic-numbers"
      - "cppcoreguidelines-avoid-magic-numbers"
      - "readability-identifier-length"
      - "cppcoreguidelines-pro-bounds-pointer-arithmetic"
      - "cppcoreguidelines-owning-memory"
      - "hicpp-no-array-decay"
      - "hicpp-vararg"
      - "cert-err33-c"
      - "cert-msc50-cpp"
      - "cert-msc51-cpp"
      - "cert-env33-c"
      - "google-readability-todo"
      - "llvm-include-order"
      - "misc-non-private-member-variables-in-classes"
      - "misc-use-anonymous-namespace"
      - "cppcoreguidelines-non-private-member-variables-in-classes"
      - "google-explicit-constructor"
      - "readability-isolate-declaration"
      - "readability-redundant-access-specifiers"
      - "modernize-use-auto"
      - "readability-qualified-auto"
      - "hicpp-use-auto"
      - "modernize-use-nodiscard"
      - "cppcoreguidelines-pro-type-reinterpret-cast"
      - "cppcoreguidelines-pro-type-union-access"
      - "cppcoreguidelines-pro-type-vararg"
      - "hicpp-no-assembler"
      - "cert-dcl37-c"
      - "cert-dcl51-cpp"
      - "cert-dcl54-cpp"
      - "cert-oop54-cpp"
      - "cert-oop57-cpp"
      - "cert-oop58-cpp"
      - "cppcoreguidelines-pro-type-cstyle-cast"
      - "hicpp-use-equals-default"
      - "hicpp-use-equals-delete"
      - "modernize-use-equals-default"
      - "modernize-use-equals-delete"
      - "readability-delete-null-pointer"
      - "bugprone-misplaced-widening-cast"
      - "cppcoreguidelines-slicing"
      - "bugprone-suspicious-include"
      - "misc-new-delete-overloads"
      - "cppcoreguidelines-special-member-functions"
      - "hicpp-special-member-functions"
      - "readability-function-size"
      - "readability-braces-around-statements"
      - "readability-else-after-return"
      - "modernize-use-nullptr"
      - "modernize-loop-convert"
      - "modernize-raw-string-literal"
      - "modernize-redundant-void-arg"
      - "modernize-use-using"
      - "modernize-pass-by-value"
      - "modernize-use-override"
      - "modernize-use-default-member-init"
      - "modernize-replace-auto-ptr"
      - "modernize-deprecated-headers"
      - "modernize-avoid-bind"
      - "modernize-use-transparent-functors"
      - "modernize-shrink-to-fit"
      - "performance-move-const-arg"
      - "performance-unnecessary-copy-initialization"
      - "performance-unnecessary-value-param"
      - "performance-for-range-copy"
      - "performance-type-promotion-in-math-fn"
      - "performance-inefficient-vector-operation"
      - "performance-inefficient-string-concatenation"
      - "performance-inefficient-algorithm"
      - "performance-noexcept-move-constructor"
      - "performance-noexcept-swap"
      - "bugprone-assert-side-effect"
      - "bugprone-bad-signal-to-kill-thread"
      - "bugprone-branch-clone"
      - "bugprone-copy-constructor-init"
      - "bugprone-dangling-handle"
      - "bugprone-dynamic-static-initializers"
      - "bugprone-exception-escape"
      - "bugprone-fold-init-type"
      - "bugprone-forward-declaration-namespace"
      - "bugprone-forwarding-reference-overload"
      - "bugprone-incorrect-roundings"
      - "bugprone-integer-division"
      - "bugprone-lambda-function-name"
      - "bugprone-macro-parentheses"
      - "bugprone-macro-repeated-side-effects"
      - "bugprone-multiple-statement-macro"
      - "bugprone-narrowing-conversions"
      - "bugprone-no-escape"
      - "bugprone-non-zero-enum-to-bool-conversion"
      - "bugprone-not-null-terminated-result"
      - "bugprone-optional-value-conversion"
      - "bugprone-parent-virtual-call"
      - "bugprone-posix-return"
      - "bugprone-redundant-branch-condition"
      - "bugprone-reserved-identifier"
      - "bugprone-signal-handler"
      - "bugprone-signed-char-misuse"
      - "bugprone-sizeof-container"
      - "bugprone-sizeof-expression"
      - "bugprone-string-constructor"
      - "bugprone-string-literal-with-embedded-nul"
      - "bugprone-suspicious-enum-usage"
      - "bugprone-suspicious-include"
      - "bugprone-suspicious-memset-usage"
      - "bugprone-suspicious-missing-comma"
      - "bugprone-suspicious-realloc-usage"
      - "bugprone-suspicious-semicolon"
      - "bugprone-suspicious-string-compare"
      - "bugprone-swapped-arguments"
      - "bugprone-terminating-continue"
      - "bugprone-throw-keyword-missing"
      - "bugprone-too-small-loop-variable"
      - "bugprone-undefined-memory-manipulation"
      - "bugprone-undelegated-constructor"
      - "bugprone-unhandled-exception-at-new"
      - "bugprone-unhandled-self-assignment"
      - "bugprone-unused-return-value"
      - "bugprone-use-after-move"
      - "concurrency-mt-unsafe"
      - "concurrency-thread-canceltype-asynchronous"
      - "misc-definitions-in-headers"
      - "misc-misleading-bidirectional"
      - "misc-misleading-identifier"
      - "misc-misplaced-const"
      - "misc-new-delete-overloads"
      - "misc-no-recursion"
      - "misc-non-copyable-objects"
      - "misc-redundant-expression"
      - "misc-static-assert"
      - "misc-throw-by-value-catch-by-reference"
      - "misc-unconventional-assign-operator"
      - "misc-uniqueptr-reset-release"
      - "misc-unused-alias-decls"
      - "misc-unused-using-decls"
      - "portability-simd-intrinsics"
      # Note: readability-container-size-empty is slow and only runs with ClangTidy.FastCheckFilter=None
      - "readability-container-data-pointer"
      - "readability-convert-member-functions-to-static"
      - "readability-delete-null-pointer"
      - "readability-duplicate-include"
      - "readability-implicit-bool-conversion"
      - "readability-inconsistent-declaration-parameter-name"
      - "readability-misleading-indentation"
      - "readability-named-parameter"
      - "readability-non-const-parameter"
      - "readability-redundant-control-flow"
      - "readability-redundant-declaration"
      - "readability-redundant-function-ptr-dereference"
      - "readability-redundant-member-init"
      - "readability-redundant-preprocessor"
      - "readability-redundant-smartptr-get"
      - "readability-redundant-string-cstr"
      - "readability-redundant-string-init"
      - "readability-simplify-subscript-expr"
      - "readability-static-accessed-through-instance"
      - "readability-string-compare"
      - "readability-uniqueptr-delete-release"
      - "readability-uppercase-literal-suffix"
      - "readability-use-anyofallof"
      - "readability-avoid-const-params-in-decls"
      # Exclude checks that cause false positives with doctest macros
      - "cppcoreguidelines-avoid-do-while"
      - "readability-function-cognitive-complexity"
      # Exclude libc++ specific checks
      - "llvm-namespace-comment"
      - "libc-*"
      - "llvmlibc-*"
Index:
  Background: Build
  StandardLibrary: true